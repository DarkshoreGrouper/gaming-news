(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{693:(e,t,l)=>{Promise.resolve().then(l.bind(l,3792))},3792:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>n});var r=l(5155),o=l(2115);function n(){let[e,t]=(0,o.useState)(null),[l,n]=(0,o.useState)(null),[s,a]=(0,o.useState)(!0);return(0,o.useEffect)(()=>{(async()=>{try{let e;a(!0),n(null),console.log("Starting to scrape data...");let l="https://pcgamer.com/news",r=null;for(let e of["https://corsproxy.io/?","https://api.codetabs.com/v1/proxy?quest=","https://thingproxy.freeboard.io/fetch/"])try{let t=e+encodeURIComponent(l);if(console.log("Trying proxy:",e),r=await fetch(t,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"},signal:AbortSignal.timeout(1e4)}),console.log("Response status:",r.status),r.ok){console.log("Success with proxy:",e);break}}catch(t){console.log("Failed with proxy:",e,t);continue}if(!r||!r.ok){console.log("All CORS proxies failed, showing sample data"),t({success:!0,url:l,contentLength:0,parsedContent:{title:"PC Gamer News (Sample Data)",articles:[{title:"Sample Article 1 - CORS proxy unavailable",image:"https://via.placeholder.com/300x140/40E0D0/004D4D?text=Sample+Image",url:"#"},{title:"Sample Article 2 - Please check console for errors",image:"https://via.placeholder.com/300x140/40E0D0/004D4D?text=Sample+Image",url:"#"},{title:"Sample Article 3 - Try refreshing the page",image:"https://via.placeholder.com/300x140/40E0D0/004D4D?text=Sample+Image",url:"#"}]}}),a(!1);return}let o=await r.text();console.log("HTML length:",o.length),console.log("First 500 chars:",o.substring(0,500));let s=o.match(/<title[^>]*>([^<]+)<\/title>/i),i=s?s[1]:"No title found",c=/<article[^>]*>([\s\S]*?)<\/article>/gi,g=[];for(;null!==(e=c.exec(o));){let t=e[1],l=t.match(/<figure[^>]*>[\s\S]*?data-original="([^"]*)"[\s\S]*?<\/figure>/i),r=l?l[1]:"",n=t.match(/<h3[^>]*class="article-name"[^>]*>([^<]+)<\/h3>/i),s=n?n[1].trim():"";if(s&&r){let t,l=e.index,n=l+e[0].length,a=Math.max(0,l-1e3),i=Math.min(o.length,n+1e3),c=o.substring(a,i),h=/<a[^>]*href="([^"]*)"[^>]*>[\s\S]*?<\/a>/gi,d="";for(;null!==(t=h.exec(c));){let e=t[1],r=a+t.index,o=r+t[0].length;if(r<=l&&o>=n){d=e,console.log("Found article URL:",d,"for article:",s);break}}if(!d){let e=o.substring(0,l).match(/<a[^>]*href="([^"]*)"[^>]*>/g);if(e&&e.length>0){let t=e[e.length-1].match(/href="([^"]*)"/);t&&(d=t[1],console.log("Using fallback URL:",d,"for article:",s))}}d&&g.push({title:s,image:r,url:d})}}t({success:!0,url:l,contentLength:o.length,parsedContent:{title:i,articles:g}})}catch(e){n(e instanceof Error?e.message:"Unknown error occurred")}finally{a(!1)}})()},[]),(0,r.jsx)("div",{className:"min-h-screen w-full",style:{backgroundColor:"#004D4D",padding:"20px"},children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsx)("h1",{style:{color:"#E0E0E0",fontSize:"32px",fontFamily:"Inter, sans-serif",textAlign:"center",marginBottom:"30px"},children:"Gaming News Feed"}),s?(0,r.jsx)("p",{style:{color:"#E0E0E0",fontSize:"16px",textAlign:"center"},children:"Loading latest news..."}):l?(0,r.jsxs)("p",{style:{color:"#E0E0E0",fontSize:"16px",textAlign:"center"},children:["Failed to fetch data: ",l]}):e?(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{style:{color:"#E0E0E0",fontSize:"16px",textAlign:"center",marginBottom:"20px"},children:["Successfully scraped ",e.contentLength," characters from ",e.url]}),e.parsedContent&&(0,r.jsxs)("div",{style:{color:"#E0E0E0"},children:[(0,r.jsx)("h2",{style:{fontSize:"24px",marginBottom:"20px",color:"#40E0D0"},children:"Latest News from PC Gamer"}),(0,r.jsxs)("div",{style:{backgroundColor:"rgba(0,0,0,0.3)",padding:"20px",borderRadius:"10px"},children:[(0,r.jsxs)("h3",{style:{fontSize:"18px",marginBottom:"15px",color:"#40E0D0"},children:["Page Title: ",e.parsedContent.title]}),(0,r.jsx)("h4",{style:{fontSize:"16px",marginBottom:"20px",color:"#40E0D0"},children:"Recent Articles:"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5",children:e.parsedContent.articles.map((e,t)=>(0,r.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",color:"inherit",backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"8px",overflow:"hidden",transition:"transform 0.2s",cursor:"pointer"},onMouseOver:e=>e.currentTarget.style.transform="translateY(-2px)",onMouseOut:e=>e.currentTarget.style.transform="translateY(0)",children:[(0,r.jsx)("img",{src:e.image,alt:e.title,style:{width:"100%",height:"140px",objectFit:"cover",display:"block"},onError:e=>e.currentTarget.style.display="none"}),(0,r.jsx)("div",{style:{padding:"15px",fontSize:"14px",lineHeight:"1.4"},children:e.title})]},t))})]})]})]}):null]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(693)),_N_E=e.O()}]);